<% content_for(:breadcrumb) do %>
  <li class="breadcrumb-item"><%=link_to "Dashboard", home_index_path %></li>
  <li class="breadcrumb-item"><%=link_to "Regions", regions_path %></li>
  <li class="breadcrumb-item active"><a href="javascript:void(0)"><%= @region.name %></a></li>
<% end %>


<% content_for(:content) do %>

<div>
  <%= link_to "< Back", regions_path, class: "btn btn-feature mb-2" %>
</div>

<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
          <div class="row justify-content-center">
          <div class="col-10 mt-3">
        <%= render @region %>
          <h1 class="mt-5 card-title">Cities in <%= @region.name %></h1>
          <table class="table mb-0 table-striped table-borderless">
            <thead class="bg-custom-dark text-white">
              <th>#</th>
              <th>Name</th>
              <th>Description</th>
              <th></th>
            <thead>
            <tbody>
              <% @city_towns.each_with_index do |city_town, index| %>
              <tr>
                <td><%= index + 1 %></td>
                <td><%= city_town.name %></td>
                <td><%= city_town.description %></td>
                <td>
                  <%= link_to "View", city_town, class: 'mx-1 btn btn-view text-white' %>
                  <%= link_to "Edit", edit_city_town_path(city_town), class: 'mx-1 btn btn-outline-edit'%>
                  <%#= link_to "Delete", city_town, class: 'mx-1 btn btn-danger', method: :delete %>
                  <!-- <button type="button" class="mx-1 btn btn-danger" data-toggle="modal" data-target="#modal<%= city_town.id %>">
                    Delete
                  </button> -->
                  <div>
                    <!-- Modal -->
                    <div class="modal fade" id="modal<%= city_town.id %>" tabindex="-1" role="dialog" aria-labelledby="modal<%= city_town.id %>Title" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Delete Confirmation</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            Are you sure you want to delete this city?(<strong><%= city_town.name %></strong>)
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-outline-edit" data-dismiss="modal">Cancel</button>
                            <%= link_to "Proceed", city_town, class: 'btn btn-feature', method: :delete %>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <% end %>
            </tbody>  
          </table>
          </div>
          </div>
      </div>
    </div>
  </div>
</div>


<% end %>
